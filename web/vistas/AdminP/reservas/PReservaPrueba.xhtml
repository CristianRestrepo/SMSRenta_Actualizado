<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./../template-admin-p.xhtml">

            <ui:define name="content">
                <section class="content-header">                    
                    <h1>
                        Tipo de Servicios de SMS Renta

                        <small>renta vehiculos de placa blanca o blindados </small>
                    </h1>
                </section>

                <section>
                    <b:container fluid="true">
                        <b:row>
                            <b:column class="box espacio-arriba" col-lg="10" col-md="10" col-sm="12" col-xs="12" offset-lg="1">

                                <h:form id="formularioAgenda">
                                    <b:column col-lg="8" col-md="8" col-sm="12" col-xs="12" offset-lg="2">
                                        <p:messages id="msg" showDetail="false" autoUpdate="false" closable="true"/>

                                        <p:wizard flowListener="#{reservacionBean.onFlowProcess1}" showNavBar="false" showStepStatus="false" widgetVar="wiz">
                                            <p:tab id="Agenda" title="Agenda">                                           
                                                <div class="box-header">
                                                    <h3 align="center">AGENDAMIENTO
                                                        <small>DEFINE EL LUGAR Y LA HORA DE RESERVA</small>
                                                    </h3>
                                                </div>
                                                <div class="box-body">
                                                    <div class="form-group" align="left">
                                                        <p:selectOneMenu label="Ciudad" value="#{reservacionBean.reservaView.smsCiudadByIdCiudadInicio.ciudadNombre}" style="width: 100%">
                                                            <f:selectItem itemLabel="Seleccione ciudad"  noSelectionOption="true"/>
                                                            <f:selectItems value="#{ciudadBean.nombresCiudadesListView}" />
                                                            <p:ajax event="change" update="SMLugarInicio SMLugarDestino"/>
                                                        </p:selectOneMenu>
                                                    </div>

                                                    <div class="form-group" align="left">
                                                        <b:selectOneMenu id="SMLugarInicio" tooltip="Lugar donde recojera su vehiculo" value="#{reservacionBean.reservaView.reservacionLugarLlegada}" style="width: 100%">
                                                            <f:selectItem itemLabel="Seleccione lugar de recogida del vehiculo" noSelectionOption="true"/>
                                                            <f:selectItems value="#{lugarBean.consultarLugaresCiudades(reservacionBean.reservaView.smsCiudadByIdCiudadInicio)}"/>
                                                        </b:selectOneMenu>         
                                                    </div>

                                                    <div class="form-group" align="left">
                                                        <b:selectOneMenu id="SMLugarDestino" tooltip="Lugar donde entregara el vehiculo rentado"  value="#{reservacionBean.reservaView.reservacionLugarDestino}" style="width: 100%">
                                                            <f:selectItem itemLabel="Seleccione lugar de entrega del vehiculo" noSelectionOption="true"/>
                                                            <f:selectItems value="#{lugarBean.consultarLugaresCiudades(reservacionBean.reservaView.smsCiudadByIdCiudadInicio)}"/>
                                                        </b:selectOneMenu>       
                                                    </div>                                                           
                                                    <hr/>
                                                    <div class="form-group" align="left">
                                                        <b:selectOneMenu label="Tipo de Servicio" value="#{reservacionBean.reservaView.smsServicios.servicioNombre}" style="width: 100%">
                                                            <f:selectItem itemLabel="Seleccione servicio de reservacion" noSelectionOption="true"/>
                                                            <f:selectItems value="#{serviciosBean.nombreServiciosListView}"/>
                                                        </b:selectOneMenu>         
                                                    </div>

                                                    <div class="form-group">
                                                        <h:panelGrid columns="2" width="100%"> 
                                                            <label class="col-sm-12 control-label" >Fecha de Inicio</label>
                                                            <p:calendar id="CFechaEntrega" style="width: 100%" 
                                                                        styleClass="dateTimeField" placeholder="Seleccione fecha de inicio"  
                                                                        pattern="yyyy-MM-dd" 
                                                                        value="#{reservacionBean.reservaView.reservacionFechaLlegada}" 
                                                                        required="true"/>                                                                    
                                                        </h:panelGrid>
                                                    </div>

                                                    <div class="form-group">                                                                   
                                                        <label class="mrg-reserva-1">Hora de Inicio</label>
                                                        <h:panelGrid  columns="2" width="100%">
                                                            <b:selectOneMenu style="width: 100%" value="#{reservacionBean.horaInicio}">
                                                                <f:selectItem itemLabel="00" itemValue="01"/>
                                                                <f:selectItem itemLabel="01" itemValue="01"/>
                                                                <f:selectItem itemLabel="02" itemValue="02"/>
                                                                <f:selectItem itemLabel="03" itemValue="03"/>
                                                                <f:selectItem itemLabel="04" itemValue="04"/>
                                                                <f:selectItem itemLabel="05" itemValue="05"/>
                                                                <f:selectItem itemLabel="06" itemValue="06"/>
                                                                <f:selectItem itemLabel="07" itemValue="07"/>
                                                                <f:selectItem itemLabel="08" itemValue="08"/>
                                                                <f:selectItem itemLabel="10" itemValue="10"/>
                                                                <f:selectItem itemLabel="11" itemValue="11"/>
                                                                <f:selectItem itemLabel="12" itemValue="12"/>
                                                                <f:selectItem itemLabel="13" itemValue="13"/> 
                                                                <f:selectItem itemLabel="14" itemValue="14"/>                                                     
                                                                <f:selectItem itemLabel="15" itemValue="15"/> 
                                                                <f:selectItem itemLabel="16" itemValue="16"/> 
                                                                <f:selectItem itemLabel="17" itemValue="17"/> 
                                                                <f:selectItem itemLabel="18" itemValue="18"/> 
                                                                <f:selectItem itemLabel="19" itemValue="19"/> 
                                                                <f:selectItem itemLabel="20" itemValue="20"/> 
                                                                <f:selectItem itemLabel="21" itemValue="21"/> 
                                                                <f:selectItem itemLabel="22" itemValue="22"/>
                                                                <f:selectItem itemLabel="23" itemValue="23"/>
                                                            </b:selectOneMenu>
                                                            <b:selectOneMenu style="width: 100%" value="#{reservacionBean.minutosInicio}">
                                                                <f:selectItem itemLabel="00:00" itemValue="00:00"/>
                                                                <f:selectItem itemLabel="15:00" itemValue="15:00"/>
                                                                <f:selectItem itemLabel="30:00" itemValue="30:00"/>                                                   
                                                                <f:selectItem itemLabel="45:00" itemValue="45:00"/>            
                                                            </b:selectOneMenu>
                                                        </h:panelGrid>
                                                    </div>  

                                                </div>
                                            </p:tab>
                                            <p:tab id="Vehiculo" title="Vehiculo">

                                                <h3 align="center" class="head text-center">VEHICULOS SMS RENTA
                                                    <small>ELIEGE EL VEHICULO QUE QUIERES PARA TU RESERVA</small>
                                                </h3>                                                                                      

                                                <div class="form-group" style="width: 100%" align="center">                                               

                                                    <b:selectOneMenu style="width: 100%" value="#{reservacionBean.reservaView.smsVehiculo.smsCategoria.categoriaNombre}">
                                                        <f:selectItem itemLabel="Seleccione Categoria"/>
                                                        <f:selectItems value="#{categoriaBean.nombresCategoriasListView}"/>
                                                    </b:selectOneMenu>

                                                </div> 

                                                <br/><br/><br/>

                                                <p:dataScroller id="ScrollerVehiculos" style="width: 100%" value="#{vehiculoBean.vehiculosListView}" var="vehiculo" chunkSize="2" mode="inline" scrollHeight="500">
                                                    <f:facet name="header">
                                                        Scroll Down para cargar mas vehiculos
                                                    </f:facet>

                                                    <div class="box box-widget widget-user-2 " style=" box-shadow: 1px 1px 13px 5px #DDDDDD; margin: 26px 0;"> 
                                                        <div class="widget-user-header bg-yellow">
                                                            <div class="widget-user-image">
                                                                <p:graphicImage  value="#{vehiculo.smsReferencia.smsMarca.marcaFotoRuta}" alt="First slide" class="img-circle"/>                                                       
                                                            </div>

                                                            <h3 class="widget-user-username">#{vehiculo.smsReferencia.smsMarca.marcaNombre} | #{vehiculo.smsReferencia.referenciaNombre}</h3>
                                                            <h5 class="widget-user-desc">#{vehiculo.smsCategoria.categoriaNombre} | #{vehiculo.vehPlaca}</h5>                                                                    

                                                        </div>
                                                        <div class="box-body">
                                                            <b:column col-lg="5" >
                                                                <!--espacio para imagen-->

                                                                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">

                                                                    <div class="carousel-inner">
                                                                        <div class="item active">
                                                                            <p:graphicImage  value="#{vehiculo.vehFotoRuta}" alt="First slide" class="img-responsive center-block img-rounded"/>                                                       
                                                                            <div class="carousel-caption">
                                                                            </div>
                                                                        </div>
                                                                        <div class="item">
                                                                            <p:graphicImage  value="#{vehiculo.vehFoto2Ruta}" alt="Second slide" class="img-responsive center-block img-rounded"/>                                                       
                                                                            <div class="carousel-caption">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </b:column>

                                                            <b:column col-lg="7" class="border-reserva">
                                                                <!--cuerpo horizontal del div-->
                                                                <h4 class="box-title text-marca-veh">
                                                                    Marca Vehiculo | referencia vehiculo 
                                                                    <small> Categoría: #{vehiculo.smsCategoria.categoriaNombre}</small>
                                                                </h4>

                                                                <div class="col-xs-12">
                                                                    <!--contenedor de iconocs con info de personas maletas-->
                                                                    <div class="btn-caract-vehi">
                                                                        <i class="fa fa-user"></i>                                                                            
                                                                        #{vehiculo.vehNumPersonas}
                                                                    </div>
                                                                    <div class="btn-caract-vehi">
                                                                        <i class="fa fa-suitcase"></i>
                                                                        G  #{vehiculo.vehNumMalGrande}
                                                                    </div>
                                                                    <div class="btn-caract-vehi">
                                                                        <i class="fa fa-suitcase"></i>
                                                                        P #{vehiculo.vehNumMalPequeña}
                                                                    </div>
                                                                    <div class="btn-caract-vehi">
                                                                        #{vehiculo.smsColor.colorNombre}
                                                                    </div>
                                                                </div>

                                                                <p class="text-justify">
                                                                    <strong><i class="fa fa-arrow-right"/> Recogida y Devolución</strong>: 
                                                                    (desde el bean se trae la información)
                                                                </p>
                                                            </b:column>
                                                        </div>
                                                        <div class="box-footer">
                                                            <p:commandButton process="@this" update="ScrollerVehiculos" style="width: 200px" disabled="#{reservacionBean.selecVeh}" class="btn-reservas-color" action="#{reservacionBean.seleccionarVehiculo()}" value="Reservar">
                                                                <f:setPropertyActionListener value="#{vehiculo}" target="#{reservacionBean.reservaView.smsVehiculo}"/> 
                                                            </p:commandButton>                                                                        
                                                        </div>                                                       
                                                    </div>
                                                </p:dataScroller>
                                                <!--                                                        Segmento a repetir segun cantidad de vehiculos-->

                                            </p:tab>
                                            <p:tab id="Conductor" title="Conductor">
                                                <h3 class="head text-center">Conductores SMS Renta
                                                    <small>Elige el Conductor que desees para tu reserva</small>
                                                </h3>

                                                <p:dataScroller id="ScrollerConductores" style="width: 100%" value="#{empleadoBean.empleadosListView}" var="conductor" chunkSize="2" mode="inline" scrollHeight="500" >

                                                    <div class="box box box-sms-renta " style=" box-shadow: 1px 1px 13px 5px #DDDDDD; margin: 26px 0;"> 
                                                        <div class="box-header with-border">
                                                            <div class="user-block">

                                                                <a href=""   class="btn-reserva-select">
                                                                    <div data-placement="top" >
                                                                        <span class="round-tabs-conduc one">
                                                                            <i style="position: relative; top: -16px;  left: 3px;" class="fa  fa-user-plus"></i>
                                                                        </span>
                                                                    </div>
                                                                </a>                                                                   

                                                                <h5 class=" box-title" style="    margin-left: 10%;"> #{conductor.smsUsuario.usuarioNombre}</h5>
                                                                <br/>
                                                                <small style="margin: 10%;"> <strong>NIT </strong>: #{conductor.smsProveedor.proveedorNit}</small>                                                                    
                                                            </div>

                                                        </div>
                                                        <div class="box-body">
                                                            <b:column col-lg="5" >
                                                                <!--espacio para imagen-->
                                                                <p:graphicImage  value="#{conductor.smsUsuario.usuarioFotoRuta}" class="img-responsive center-block img-rounded"/>                                                       
                                                            </b:column>

                                                            <b:column col-lg="7" class="border-reserva">
                                                                <!--cuerpo horizontal del div-->
                                                                <h4 class="box-title text-marca-veh">
                                                                    Datos personales y de Contácto del Conductor <br/>
                                                                    <small> ID SMS Renta: #{conductor.idEmpleado} </small>
                                                                </h4>

                                                                <div class="col-xs-12">
                                                                    <ul style="list-style-type: none;">
                                                                        <li>
                                                                            <div class="btn-caract-vehi-2">                                                                                    
                                                                                Nombre:
                                                                            </div>
                                                                            <p style="    display: inline;">#{conductor.smsUsuario.usuarioNombre}</p>
                                                                        </li>
                                                                        <li>
                                                                            <div class="btn-caract-vehi-2">                                                                                    
                                                                                Cc:
                                                                            </div>
                                                                            <p style="    display: inline;">#{conductor.smsUsuario.usuarioCc}</p>
                                                                        </li>
                                                                        <li>
                                                                            <div class="btn-caract-vehi-2">                                                                                    
                                                                                Teléfono:
                                                                            </div>
                                                                            <p style="    display: inline;">(57) #{conductor.smsUsuario.usuarioTelefono}</p>
                                                                        </li>
                                                                        <li>
                                                                            <div class="btn-caract-vehi-2">                                                                                    
                                                                                Email:
                                                                            </div>
                                                                            <p style="    display: inline;">#{conductor.smsUsuario.usuarioEmail}</p>
                                                                            <b:commandButton class="btn btn-info btn-sm" value="Hoja de Vida"></b:commandButton>

                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                </b:column>
                                                        </div>
                                                        <div class="box-footer">
                                                            <p:commandButton style="width: 200px" disabled="#{reservacionBean.selecCon}" update="ScrollerConductores" class="btn-reservas-color" action="#{reservacionBean.seleccionarConductor()}" value="Reservar">
                                                                <f:setPropertyActionListener value="#{conductor}" target="#{reservacionBean.reservaView.smsEmpleado}"/> 
                                                            </p:commandButton>
                                                        </div>                                                       
                                                    </div>

                                                </p:dataScroller>

                                            </p:tab>
                                            <p:tab id="Confirmacion" title="Confirmacion">

                                            </p:tab>

                                        </p:wizard>
                                        <div class="box-footer" align="right">
                                            <h:panelGrid width="30%" columns="2">
                                                <h:outputLink value="#" onclick="PF('wiz').back();">Atras</h:outputLink>
                                                <h:outputLink value="#" onclick="PF('wiz').next();">Siguiente</h:outputLink>


                                                <!--                                            <b:commandButton style="width: 100%" value="Atras" class="btn btn-danger" iconAwesome="fa fa-arrow-left" onclick="PF('wiz').back();"/>
                                                                                            <b:commandButton style="width: 100%" value="Siguiente" class="btn btn-primary" iconAwesome="fa fa-arrow-right" onclick="PF('wiz').next();"/>-->
                                            </h:panelGrid>
                                        </div>
                                    </b:column>
                                </h:form>

                            </b:column>
                        </b:row>
                    </b:container>
                </section>
            </ui:define>


        </ui:composition>

    </body>
</html>
