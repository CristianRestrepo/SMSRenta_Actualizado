<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./../template-admin-p.xhtml">

            <ui:define name="content">
                <section class="content-header">                    
                    <h1>
                        Tipo de Servicios de SMS Renta

                        <small>renta vehiculos de placa blanca o blindados </small>
                    </h1>
                </section>

                <section>
                    <b:container fluid="true">
                        <div class="row">
                            <div class="board">
                                <h:form id="formularioAgenda">
                                    <p:wizard nextLabel="Siguiente" backLabel="Atras" flowListener="#{reservacionBean.onFlowProcess1(event)}" showStepStatus="false" showNavBar="false">

                                        <div class="tab-content">
                                            <p:tab id="Agenda" title="Agenda" class="table-responsive tab-pane fade in active">

                                                <b:row>
                                                    <h3 class="head text-center">AGENDAMIENTO
                                                        <small>DEFINE EL LUGAR Y LA HORA DE RESERVA</small>
                                                    </h3>
                                                    <hr/>
                                                    <b:column col-lg="8" offset-lg="2">

                                                        <div class="form-group" align="left">
                                                            <b:selectOneMenu label="Ciudad" style="width: 100%">
                                                                <f:selectItem itemLabel="Seleccione ciudad" value="#{reservacionBean.reservaView.smsCiudadByIdCiudadInicio.ciudadNombre}" noSelectionOption="true"/>
                                                                <f:selectItems value="#{ciudadBean.nombresCiudadesListView}" />
                                                            </b:selectOneMenu>
                                                        </div>

                                                        <div class="form-group" align="left">
                                                            <b:selectOneMenu label="Lugar de recogida" value="#{reservacionBean.reservaView.reservacionLugarLlegada}" style="width: 100%">
                                                                <f:selectItem itemLabel="Seleccione lugar de recogida del vehiculo" noSelectionOption="true"/>
                                                                <f:selectItems value="#{lugarBean.nombresLugaresListView}"/>
                                                            </b:selectOneMenu>         
                                                        </div>

                                                        <div class="form-group" align="left">
                                                            <b:selectOneMenu label="Lugar de destino" value="#{reservacionBean.reservaView.reservacionLugarDestino}" style="width: 100%">
                                                                <f:selectItem itemLabel="Seleccione lugar de entrega del vehiculo" noSelectionOption="true"/>
                                                                <f:selectItems value="#{lugarBean.nombresLugaresListView}"/>
                                                            </b:selectOneMenu>       
                                                        </div>                                                            
                                                    </b:column>                                                       
                                                </b:row>
                                                <hr/>
                                                <b:row>                                                        
                                                    <b:column col-lg="8"  offset-lg="2">

                                                        <div class="form-group" align="left">
                                                            <b:selectOneMenu label="Tipo de Servicio" value="#{reservacionBean.reservaView.smsCategoriasServicio.catNombre}" style="width: 100%">
                                                                <f:selectItem itemLabel="Seleccione servicio de reservacion" noSelectionOption="true"/>
                                                                <f:selectItems value="#{serviciosBean.nombreServiciosListView}"/>
                                                            </b:selectOneMenu>         
                                                        </div>

                                                        <div class="form-group">
                                                            <h:panelGrid columns="2" width="100%"> 
                                                                <label class="col-sm-12 control-label" >Fecha de Inicio</label>
                                                                <p:calendar id="CFechaEntrega" style="width: 100%" 
                                                                            styleClass="dateTimeField" placeholder="Seleccione fecha de inicio"  
                                                                            pattern="yyyy-MM-dd" 
                                                                            value="#{reservacionBean.reservaView.reservacionFechaLlegada}" 
                                                                            required="true"/>                                                                    
                                                            </h:panelGrid>
                                                        </div>

                                                        <div class="form-group">                                                                   
                                                            <label class="mrg-reserva-1">Hora de Inicio</label>
                                                            <h:panelGrid  columns="2" width="100%">
                                                                <b:selectOneMenu style="width: 100%" value="#{reservacionBean.horaInicio}">
                                                                    <f:selectItem itemLabel="00" itemValue="01"/>
                                                                    <f:selectItem itemLabel="01" itemValue="01"/>
                                                                    <f:selectItem itemLabel="02" itemValue="02"/>
                                                                    <f:selectItem itemLabel="03" itemValue="03"/>
                                                                    <f:selectItem itemLabel="04" itemValue="04"/>
                                                                    <f:selectItem itemLabel="05" itemValue="05"/>
                                                                    <f:selectItem itemLabel="06" itemValue="06"/>
                                                                    <f:selectItem itemLabel="07" itemValue="07"/>
                                                                    <f:selectItem itemLabel="08" itemValue="08"/>
                                                                    <f:selectItem itemLabel="10" itemValue="10"/>
                                                                    <f:selectItem itemLabel="11" itemValue="11"/>
                                                                    <f:selectItem itemLabel="12" itemValue="12"/>
                                                                    <f:selectItem itemLabel="13" itemValue="13"/> 
                                                                    <f:selectItem itemLabel="14" itemValue="14"/>                                                     
                                                                    <f:selectItem itemLabel="15" itemValue="15"/> 
                                                                    <f:selectItem itemLabel="16" itemValue="16"/> 
                                                                    <f:selectItem itemLabel="17" itemValue="17"/> 
                                                                    <f:selectItem itemLabel="18" itemValue="18"/> 
                                                                    <f:selectItem itemLabel="19" itemValue="19"/> 
                                                                    <f:selectItem itemLabel="20" itemValue="20"/> 
                                                                    <f:selectItem itemLabel="21" itemValue="21"/> 
                                                                    <f:selectItem itemLabel="22" itemValue="22"/>
                                                                    <f:selectItem itemLabel="23" itemValue="23"/>
                                                                </b:selectOneMenu>
                                                                <b:selectOneMenu style="width: 100%" value="#{reservacionBean.minutosInicio}">
                                                                    <f:selectItem itemLabel="00:00" itemValue="00:00"/>
                                                                    <f:selectItem itemLabel="15:00" itemValue="15:00"/>
                                                                    <f:selectItem itemLabel="30:00" itemValue="30:00"/>                                                   
                                                                    <f:selectItem itemLabel="45:00" itemValue="45:00"/>            
                                                                </b:selectOneMenu>
                                                            </h:panelGrid>
                                                        </div>                                                                                                                    
                                                        <hr/>
                                                        <a href="" class="btn btn-primary btn-next-reserva" >
                                                            Siguiente <span  class="fa fa-check"></span>
                                                        </a>
                                                    </b:column>
                                                </b:row>
                                            </p:tab>
                                            <p:tab id="Vehiculo" title="Vehiculo">
                                                <b:row>

                                                    <h3 class="head text-center">Vehículos SMS Renta
                                                        <small>Elige el vehículo que desees para tu reserva</small>
                                                    </h3>

                                                    <b:column col-lg="10" offset-lg="1">

                                                        <h:form id="formularioVehiculo" class="form-horizontal">

                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">Categoría de Vehículo</label>
                                                                <div class="col-sm-5">
                                                                    <b:selectOneMenu value="#{reservacionBean.reservaView.smsVehiculo.smsCategoria.categoriaNombre}">
                                                                        <f:selectItem itemLabel="Seleccione Categoria"/>
                                                                        <f:selectItems value="#{categoriaBean.nombresCategoriasListView}"/>
                                                                    </b:selectOneMenu>
                                                                </div>
                                                            </div> 


                                                            <!--                                                        Segmento a repetir segun cantidad de vehiculos-->
                                                            <div id="prueba" style="max-height: 870px; overflow-y: scroll" >
                                                                <c:forEach var="vehiculo" begin="0" items="#{vehiculoBean.vehiculosListView}" end="#{vehiculoBean.vehiculosListView.size()}">

                                                                    <div class="box box-widget widget-user-2" style=" box-shadow: 1px 1px 13px 5px #DDDDDD; margin: 26px 0;"> 
                                                                        <div class="widget-user-header bg-yellow">
                                                                            <div class="widget-user-image">
                                                                                <p:graphicImage  value="#{vehiculo.smsReferencia.smsMarca.marcaFotoRuta}" alt="First slide" class="img-circle"/>                                                       

                                                                            </div>

                                                                            <h3 class="widget-user-username">#{vehiculo.smsReferencia.smsMarca.marcaNombre} | #{vehiculo.smsReferencia.referenciaNombre}</h3>
                                                                            <h5 class="widget-user-desc">#{vehiculo.smsCategoria.categoriaNombre} | #{vehiculo.vehPlaca}</h5>                                                                    

                                                                        </div>
                                                                        <div class="box-body">
                                                                            <b:column col-lg="5" >
                                                                                <!--espacio para imagen-->

                                                                                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">

                                                                                    <div class="carousel-inner">
                                                                                        <div class="item active">
                                                                                            <p:graphicImage  value="#{vehiculo.vehFotoRuta}" alt="First slide" class="img-responsive center-block img-rounded"/>                                                       
                                                                                            <div class="carousel-caption">
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="item">
                                                                                            <p:graphicImage  value="#{vehiculo.vehFoto2Ruta}" alt="Second slide" class="img-responsive center-block img-rounded"/>                                                       
                                                                                            <div class="carousel-caption">
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </b:column>

                                                                            <b:column col-lg="7" class="border-reserva">
                                                                                <!--cuerpo horizontal del div-->
                                                                                <h4 class="box-title text-marca-veh">
                                                                                    Marca Vehiculo | referencia vehiculo 
                                                                                    <small> Categoría: #{vehiculo.smsCategoria.categoriaNombre}</small>
                                                                                </h4>

                                                                                <div class="col-xs-12">
                                                                                    <!--contenedor de iconocs con info de personas maletas-->
                                                                                    <div class="btn-caract-vehi">
                                                                                        <i class="fa fa-user"></i>                                                                            
                                                                                        #{vehiculo.vehNumPersonas}
                                                                                    </div>
                                                                                    <div class="btn-caract-vehi">
                                                                                        <i class="fa fa-suitcase"></i>
                                                                                        G  #{vehiculo.vehNumMalGrande}
                                                                                    </div>
                                                                                    <div class="btn-caract-vehi">
                                                                                        <i class="fa fa-suitcase"></i>
                                                                                        P #{vehiculo.vehNumMalPequeña}
                                                                                    </div>
                                                                                    <div class="btn-caract-vehi">
                                                                                        #{vehiculo.smsColor.colorNombre}
                                                                                    </div>
                                                                                </div>

                                                                                <p class="text-justify">
                                                                                    <strong><i class="fa fa-arrow-right"/> Recogida y Devolución</strong>: 
                                                                                    (desde el bean se trae la información)
                                                                                </p>

                                                                            </b:column>
                                                                        </div>
                                                                        <div class="box-footer">
                                                                            <p:commandButton id="BTVehiculo" disabled="#{reservacionBean.selecVeh}" class="btn btn-danger btn-next-reserva" action="#{reservacionBean.seleccionarVehiculo()}" value="Reservar">
                                                                                <f:setPropertyActionListener value="#{vehiculo}" target="#{reservacionBean.reservaView.smsVehiculo}"/> 
                                                                            </p:commandButton>                                                                        
                                                                        </div>                                                       
                                                                    </div>
                                                                    <!--                                                        fin seccion-->
                                                                </c:forEach>
                                                            </div>
                                                        </h:form>
                                                        <br/>
                                                        <a href="#conductor" class="btn btn-primary btn-next-reserva" >
                                                            Siguiente <span  class="fa fa-check"></span>
                                                        </a>
                                                    </b:column>
                                                </b:row>
                                            </p:tab>
                                        </div>

                                    </p:wizard>

                                </h:form>
                            </div>
                        </div>
                    </b:container>
                </section>
            </ui:define>


        </ui:composition>

    </body>
</html>
